<mat-expansion-panel>
  <mat-expansion-panel-header fxShow fxHide.xs>
    <mat-panel-title>
      <mat-icon style="transform: scale(0.9);">settings</mat-icon> &nbsp; Account Set
    </mat-panel-title>
    <mat-panel-description>
      You can change your XRPL account settings here.
    </mat-panel-description>
  </mat-expansion-panel-header>
  <mat-expansion-panel-header fxShow.xs fxHide>
    <mat-panel-title>
      Account Set
    </mat-panel-title>
    <mat-panel-description>
      Change settings.
    </mat-panel-description>
  </mat-expansion-panel-header>
  <a href="https://xrpl.org/accountset.html" target="_blank">AccountSet Documentation</a>
  <form fxLayout="column" fxLayoutGap="0.5em" style="padding-bottom: 1em;padding-top: 1em;">
    <mat-form-field>
      <input #inpdomain matInput type="url" name="domain" matInput placeholder="Domain" [(ngModel)]="domainInput" (ngModelChange)="checkChanges()">
      <mat-hint *ngIf="domainChangeDetected && !validDomain" style="color: crimson;">Not a valid domain</mat-hint>
    </mat-form-field>
    <mat-form-field>
      <input #inpemail matInput type="email" name="email" matInput placeholder="Email (cannot be displayed, only changed)" [(ngModel)]="emailInput" (ngModelChange)="checkChanges()">
      <mat-hint *ngIf="emailChangeDetected && !validEmail" style="color: crimson;">Not a valid email</mat-hint>
    </mat-form-field>
    <div *ngIf="originalAccountInfo && originalAccountInfo.EmailHash && originalAccountInfo.urlgravatar" fxLayout="column">
      <label >Your current <a href="https://en.gravatar.com/support/what-is-gravatar/" target="_blank">Gravatar</a> URL: </label>
      <a fxShow fxHide.xs href="{{originalAccountInfo.urlgravatar}}.replace('http','https')" target="_blank">
        {{originalAccountInfo.urlgravatar}}
      </a>
      <a fxShow.xs fxHide href="{{originalAccountInfo.urlgravatar}}.replace('http','https')" target="_blank">
        Gravatar Link
      </a>
    </div>
    <mat-checkbox name="requireDestTag" [(ngModel)]="requireDestTagInput" (change)="checkChanges()">Require Destination Tag</mat-checkbox>
    <mat-hint *ngIf="requireDestTagChangeDetected && requireDestTagInput" style="color: crimson;">Attention! Transactions without <b>Destination Tag</b> will be rejected!</mat-hint>
    <mat-hint *ngIf="requireDestTagChangeDetected && !requireDestTagInput" style="color: crimson;">Attention! Users are able to send transactions without <b>Destination Tag</b>!</mat-hint>
  </form>
  <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="0.5em">
    <button mat-raised-button color="primary" (click)="sendToXumm()" [disabled]="!requireDestTagChangeDetected && !domainChangeDetected && !emailChangeDetected || domainChangeDetected && !validDomain || emailChangeDetected && !validEmail">
      Send {{originalAccountInfo ? 'changes' : 'request'}} to Xumm
    </button>
    <button mat-raised-button color="primary" (click)="deleteDomain()" matTooltip="{{originalAccountInfo && originalAccountInfo.EmailHash ? 'Delete Domain: ' : ''}}{{hexToString(originalAccountInfo && originalAccountInfo.Domain)}}" [disabled]="!originalAccountInfo || !originalAccountInfo.Domain">
      Delete Domain
    </button>
    <button mat-raised-button color="primary" (click)="deleteEmailHash()" matTooltip="{{originalAccountInfo && originalAccountInfo.EmailHash ? 'Delete Email Hash!' : ''}}" [disabled]="!originalAccountInfo || !originalAccountInfo.EmailHash">
      Delete EmailHash
    </button>
  </div>
</mat-expansion-panel>