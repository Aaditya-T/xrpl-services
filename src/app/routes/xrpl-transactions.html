<mat-card fxFlex fxLayout="column" fxLayoutGap="0.1em" class="margin-5">
    <div fxLayout="row">
        <div fxLayout="column" fxLayoutAlign="start center" style="width: 100%;">
            <div *ngIf="!xrplAccount">
                <button mat-raised-button style="height: 50px; border-radius: 10px; padding: 5px;" matTooltip="Login with Xumm to load your account data." matTooltipPosition="right" (click)="openSignInDialog()">
                    <img src="../../assets/xummSignIn.svg" style="width: 230px; height: 40px;"  alt="Login with Xumm">
                </button>
            </div>
            <div *ngIf="xrplAccount" style="align-self: start;">
                <button  mat-raised-button color="primary" matTooltip="Logout" matTooltipPosition="below" (click)="logoutAccount()">
                    Logout
                </button>
                <span style="flex: 1 1 auto;"></span>
            </div>
            <div style="padding-top: 0.5em;" class="floatcenter">
                <div *ngIf="!xrplAccount" fxLayout="column" fxLayout.gt-md="row" fxLayoutGap="0.5em">
                    <label>Login to load your account data and to receive Xumm push notifications.</label>
                </div>
                <div *ngIf="xrplAccount" fxLayout="column" fxLayout.gt-md="row" fxLayoutGap="0.5em">
                    <label fxHide.xs>You are currently logged in with the XRPL account:</label>
                    <b fxShow fxHide.xs> {{xrplAccount}} </b>
                    <b fxShow.xs fxHide style="font-size: 0.8em;"> {{xrplAccount}} </b>
                    <label fxHide.xs>and balance:</label>
                    <b fxShow fxHide.xs> {{getAccountBalance()}} XRP. </b>
                    <b fxShow.xs fxHide style="font-size: 0.8em;"> {{getAccountBalance()}} XRP. </b>
                </div>
            </div>
        </div>
        <mat-slide-toggle fxShow fxHide.xs [(ngModel)]="isTestMode" [checked]="isTestMode" (change)="loadAccountData()">{{!isTestMode ? 'Live net' : 'Test net'}}</mat-slide-toggle>
    </div>
    <mat-slide-toggle class="floatcenter" style="padding-top: 1em;" fxShow.xs fxHide [(ngModel)]="isTestMode" [checked]="isTestMode" (change)="loadAccountData()">{{!isTestMode ? 'Live net' : 'Test net'}}</mat-slide-toggle>
    <div *ngIf="lastTrxLink" style="padding-top: 1em;">
        View your transaction on the XRP Ledger:
        <a [href]="lastTrxLink" target="_blank;">XRPL Transaction Link</a>
    </div>
    <mat-accordion fxLayout="column" fxLayoutGap="0.5em" style="padding-top: 0.5em;">
        <accountset [accountInfoChanged]="accountInfoChanged.asObservable()" (onPayload)="onPayloadReceived($event)"></accountset>
        <escrowcreate [transactionSuccessfull]="transactionSuccessfull.asObservable()" (onPayload)="onPayloadReceived($event)"></escrowcreate>
        <escrowfinish [transactionSuccessfull]="transactionSuccessfull.asObservable()" (onPayload)="onPayloadReceived($event)" [testMode]="isTestMode"></escrowfinish>
        <escrowcancel [transactionSuccessfull]="transactionSuccessfull.asObservable()" (onPayload)="onPayloadReceived($event)" [testMode]="isTestMode"></escrowcancel>
        <setregularkey [transactionSuccessfull]="transactionSuccessfull.asObservable()" (onPayload)="onPayloadReceived($event)"></setregularkey>
    </mat-accordion>
</mat-card>
